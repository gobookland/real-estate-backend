let Building;_837‍.x([["traffics",()=>traffics],["addTraffic",()=>addTraffic]]);_837‍.w("../../models/Building",[["default",["Building"],function(v){Building=v}]]);

// List all Traffics
       const traffics = async (_, { buildingId }) => {
	const building = await Building.findById(buildingId);

	return building.traffic;
};

// Add Traffic
       const addTraffic = async (_, { buildingId, percentage }) => {
	const building = await Building.findById(buildingId);

	const date = new Date(Date.now());
	const updateDate = `${date.getFullYear()}-${
		date.getMonth() + 1
	}-${date.getDate()}`;

	const newTraffic = {
		updateDate: new Date(updateDate),
		percentage,
	};

	building.traffic.push(newTraffic);
	await building.save();

	return newTraffic;
};
